/* ================================
   Zoom-Like Video Meeting Styles (Modern)
   ================================ */

* { box-sizing: border-box; }
:root{
  --bg:#101114;
  --panel:#171a1f;
  --panel-2:#1f2430;
  --accent:#3b82f6;
  --accent-2:#8b5cf6;
  --success:#10b981;
  --danger:#ef4444;
  --text:#f8fafc;
  --muted:#9ca3af;
  --border:#2b3040;
  --shadow: 0 10px 30px rgba(0,0,0,.35);
}

body {
  margin: 0;
  background: radial-gradient(1200px 800px at 10% -10%, rgba(59,130,246,.15), transparent 50%),
              radial-gradient(1000px 600px at 110% 10%, rgba(139,92,246,.12), transparent 40%),
              var(--bg);
  color: var(--text);
  font-family: "Segoe UI", system-ui, -apple-system, Arial, sans-serif;
}

/* Layout */
.room-container {
  display: flex;
  flex-direction: column;
  height: 100vh;
  width: 100%;
  overflow: hidden;
}

/* ================================
   Header
   ================================ */
.room-header {
  background: rgba(23,26,31,.7);
  backdrop-filter: blur(8px);
  padding: 12px 20px;
  display: flex; justify-content: space-between; align-items: center;
  border-bottom: 1px solid var(--border);
}

.room-title{
  font-weight: 700;
  letter-spacing:.2px;
}

.room-right{ display:flex; align-items:center; gap:10px; }

.room-pill{
  background: #0b0c10;
  border: 1px solid var(--border);
  color: var(--muted);
  padding: 6px 10px; border-radius: 999px; font-size: 12px;
}
.room-pill.danger{ color:#fecaca; border-color:#7f1d1d; background:#1b1010; }

.btn{
  background: linear-gradient(135deg, var(--accent), var(--accent-2));
  color:white; border:none; border-radius:10px; padding:8px 14px; cursor:pointer;
  font-weight:600; box-shadow: var(--shadow); transition: transform .08s ease;
}
.btn:hover{ transform: translateY(-1px); }
.btn:active{ transform: translateY(0); }
.btn.btn-danger{
  background: linear-gradient(135deg, #ef4444, #b91c1c);
}

/* ================================
   Lobby + Waiting
   ================================ */
.lobby-banner{background:var(--panel);border-bottom:1px solid var(--border);padding:10px 16px}
.lobby-title{font-weight:700;color:#e5e7eb}
.lobby-list{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}
.lobby-item{background:var(--panel-2);border:1px solid var(--border);border-radius:10px;padding:8px 10px;display:flex;gap:10px;align-items:center}
.btn.small{padding:6px 10px;font-size:12px}
.btn.small.danger{background: linear-gradient(135deg,#ef4444,#b91c1c)}

.waiting{position:fixed;inset:0;background:rgba(0,0,0,.6);display:flex;align-items:center;justify-content:center;z-index:10}
.waiting-box{background:var(--panel);border:1px solid var(--border);box-shadow:var(--shadow);padding:26px;border-radius:14px;text-align:center}
.waiting-box h3{margin:0 0 6px}
.waiting-box p{color:var(--muted);margin:0 0 14px}

/* ================================
   Video Grid
   ================================ */
.video-grid {
  flex: 1;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 12px;
  padding: 14px;
  background: transparent;
  overflow: auto;
}

.video-tile {
  position: relative;
  background: #000;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: var(--shadow);
  max-height: 420px;
  aspect-ratio: 16 / 9;
  border: 1px solid rgba(255,255,255,.04);
}

.video-tile::after{
  content:"";
  position:absolute; inset:0;
  pointer-events:none;
  background: radial-gradient(800px 420px at -10% -10%, rgba(59,130,246,.15), transparent 35%),
              radial-gradient(600px 360px at 110% 110%, rgba(139,92,246,.15), transparent 35%);
  mix-blend-mode: soft-light;
}

.video-tile video {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Active speaker ring */
.video-tile.active{
  outline: 3px solid var(--success);
  outline-offset: 0;
  box-shadow: 0 0 0 3px rgba(16,185,129,.35), var(--shadow);
}

/* Name chip */
.participant-name {
  position: absolute;
  bottom: 10px; left: 12px;
  background: rgba(0,0,0,.55);
  backdrop-filter: blur(4px);
  padding: 6px 10px;
  border-radius: 999px;
  font-size: 12px;
  border: 1px solid rgba(255,255,255,.12);
}

/* ================================
   Controls Bar
   ================================ */
.controls-bar {
  background: rgba(23,26,31,.8);
  backdrop-filter: blur(8px);
  padding: 12px 16px;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 12px;
  border-top: 1px solid var(--border);
}

.control-button {
  display: inline-flex; align-items: center; gap: 8px;
  background: #222733;
  border: 1px solid var(--border);
  color: #e5e7eb;
  padding: 10px 16px;
  border-radius: 12px;
  cursor: pointer;
  font-size: 14px; font-weight: 600;
  transition: background .2s, transform .08s, border-color .2s;
}
.control-button:hover{ background:#2b3242; transform: translateY(-1px); border-color:#3a4256; }
.control-button:active{ transform: scale(.99); }
.control-button.danger{ background:#3b1f1f; border-color:#5f1c1c; color:#fecaca; }
.control-button.danger:hover{ background:#4a2323 }

/* ================================
   Chat Dock (glassy)
   ================================ */
.chat-dock{
  position:fixed; right:16px; bottom:96px; width:320px;
  background: rgba(17,20,26,.75);
  backdrop-filter: blur(8px);
  border:1px solid var(--border);
  border-radius: 16px;
  overflow:hidden;
  box-shadow: var(--shadow);
}

.chat-header{
  padding:10px 14px;
  font-weight:700;
  border-bottom:1px solid var(--border);
  background: rgba(23,26,31,.65);
}

.chat-messages{
  height: 240px;
  overflow:auto;
  padding: 12px;
  display:flex;
  flex-direction: column;
  gap: 8px;
}

/* chat bubbles */
.chat-line{ display:flex; }
.chat-line.me{ justify-content: flex-end; }
.chat-line.them{ justify-content: flex-start; }

.chat-line .bubble{
  max-width: 80%;
  padding: 8px 12px;
  border-radius: 12px;
  border: 1px solid var(--border);
  display:flex; flex-direction: column; gap:4px;
  background: #1d2330;
  color: #e5e7eb;
}
.chat-line.me .bubble{ background: linear-gradient(135deg, var(--accent), var(--accent-2)); border:none; color:white; }
.chat-line .who{ font-size: 11px; opacity:.85 }
.chat-line .text{ font-size: 14px; }

.chat-input-row{
  display:flex; gap:8px; padding:10px; border-top:1px solid var(--border);
  background: rgba(23,26,31,.65);
}
.chat-input-row input{
  flex:1; background:#0e1117; color:#e5e7eb; border:1px solid var(--border);
  border-radius: 12px; padding:10px 12px; outline:none;
}
.chat-input-row input:focus{ border-color:#4158d0 }

/* host footer controls */
.host-bar{ position:fixed; left:16px; bottom:96px; display:flex; gap:10px }

/* Buttons (shared) */
button { border: 0; outline: none; }

/* Notifications for dark */
.notification{
  position:fixed; top:16px; right:16px; z-index:2000;
  background: rgba(17,20,26,.95);
  color:#e5e7eb;
  border:1px solid var(--border);
  border-left-width:4px;
  padding:10px 14px;
  border-radius: 12px;
  transform: translateX(120%);
  opacity:.0;
  transition: all .25s ease;
  box-shadow: var(--shadow);
  max-width: 340px;
  font-size: 14px;
}
.notification.show{ transform: translateX(0); opacity:1; }
.notification.info{ border-left-color: #06b6d4; }
.notification.success{ border-left-color: var(--success); }
.notification.error{ border-left-color: var(--danger); }

/* Scrollbar polish */
.chat-messages::-webkit-scrollbar,
.video-grid::-webkit-scrollbar{
  width: 10px; height: 10px;
}
.chat-messages::-webkit-scrollbar-thumb,
.video-grid::-webkit-scrollbar-thumb{
  background: #2a3142; border-radius: 10px; border:2px solid transparent; background-clip: padding-box;
}

/* Responsive */
@media (max-width: 900px){
  .chat-dock{ right: 12px; bottom: 86px; width: 280px; }
}
@media (max-width: 720px){
  .chat-dock{ position:fixed; left:12px; right:12px; bottom: 86px; width: auto; }
  .controls-bar{ flex-wrap: wrap; }
  .video-grid{ grid-template-columns: 1fr; }
}
