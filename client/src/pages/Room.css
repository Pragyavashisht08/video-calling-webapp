/* ============================================
   Zoom-like Meeting UI — Polished Animations
   (Drop-in replacement for client/src/pages/Room.css)
   ============================================ */

/* Global reset */
* { box-sizing: border-box; }
body { margin: 0; background: #0f1115; color: #fff; font-family: "Inter", "Segoe UI", Arial, sans-serif; }

/* Layout */
.room-container {
  display: flex;
  flex-direction: column;
  height: 100vh;
  width: 100%;
  overflow: hidden;
  opacity: 0;
  transform: translateY(6px) scale(.995);
  animation: roomIn .35s var(--e-out, cubic-bezier(.22,.61,.36,1)) .05s forwards;
}
@keyframes roomIn { to { opacity: 1; transform: translateY(0) scale(1); } }

/* Header */
.room-header {
  background: #151922;
  color: #e5e7eb;
  padding: 10px 16px;
  display: flex; justify-content: space-between; align-items: center;
  border-bottom: 1px solid rgba(255,255,255,.06);
  backdrop-filter: saturate(1.2) blur(4px);
}
.room-title { font-weight: 600; letter-spacing:.2px; }
.room-right { display:flex; gap:8px; align-items:center; }
.room-pill {
  font-size: 12px; color:#cbd5e1; background:#0b0f17; border:1px solid rgba(255,255,255,.08);
  padding: 6px 10px; border-radius: 999px;
}
.room-pill.danger { color:#fecaca; border-color:#ef4444; background:rgba(239,68,68,.12); }

/* Video Grid */
.video-grid {
  flex: 1;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 12px;
  padding: 12px;
  background: radial-gradient(1200px 600px at 10% -20%, #192033 0%, #0f1115 60%);
  overflow-y: auto;
}

/* Tiles */
.video-tile {
  position: relative;
  background: #000;
  border-radius: 14px;
  overflow: hidden;
  aspect-ratio: 16 / 9;
  max-height: 440px;
  box-shadow:
    0 10px 25px rgba(0,0,0,.45),
    inset 0 0 0 1px rgba(255,255,255,.06);
  transform: translateY(6px);
  animation: tileIn .35s var(--e-out, cubic-bezier(.22,.61,.36,1)) forwards;
}
@keyframes tileIn { to { transform: translateY(0); } }

.video-tile video {
  width: 100%;
  height: 100%;
  object-fit: cover;
  background: linear-gradient(180deg,#0b0f17,#0b0f17);
  transition: filter .2s ease;
}

/* Active speaker glow + pulse ring */
.video-tile.active::after {
  content: "";
  position: absolute; inset: -2px;
  border-radius: 16px;
  pointer-events: none;
  box-shadow:
    0 0 0 2px rgba(34,197,94,.8),
    0 0 22px rgba(34,197,94,.35);
  animation: pulse 1.2s ease-out infinite;
}
@keyframes pulse {
  0% { box-shadow: 0 0 0 2px rgba(34,197,94,.85), 0 0 10px rgba(34,197,94,.35); }
  70% { box-shadow: 0 0 0 6px rgba(34,197,94,.12), 0 0 24px rgba(34,197,94,.25); }
  100% { box-shadow: 0 0 0 2px rgba(34,197,94,.2), 0 0 10px rgba(34,197,94,.18); }
}

/* Name tag */
.participant-name {
  position: absolute; bottom: 8px; left: 10px;
  background: rgba(9,12,18,.7);
  border: 1px solid rgba(255,255,255,.08);
  padding: 5px 10px;
  border-radius: 10px;
  font-size: 13px; color: #dbeafe;
  backdrop-filter: blur(4px);
}

/* Controls Bar */
.controls-bar {
  background: #151922;
  padding: 12px 16px;
  display: flex; justify-content: center; align-items: center; gap: 14px;
  border-top: 1px solid rgba(255,255,255,.06);
}

/* Buttons */
.control-button, .btn {
  position: relative;
  display: inline-flex; align-items: center; justify-content: center;
  gap: 8px; padding: 10px 16px;
  border: none; border-radius: 10px; cursor: pointer; user-select: none;
  background: #1b2130; color: #e5e7eb;
  font-size: 14px; font-weight: 600;
  transition: transform .08s ease, background .18s ease, box-shadow .18s ease, filter .18s ease;
  box-shadow: 0 6px 16px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.06);
}
.control-button:hover, .btn:hover {
  background: #212a3d; transform: translateY(-1px);
  box-shadow: 0 8px 20px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.08);
}
.control-button:active, .btn:active { transform: translateY(0) scale(.98); }

.control-button.danger, .btn.btn-danger { background: #b91c1c; }
.control-button.danger:hover, .btn.btn-danger:hover { background: #991b1b; }

/* Small buttons */
.btn.small { padding: 6px 10px; font-size: 12px; border-radius: 8px; }

/* Lobby */
.lobby-banner {
  background: #0f141f; color: #e5e7eb;
  padding: 10px 14px; border-bottom: 1px solid rgba(255,255,255,.06);
  animation: slideDown .25s var(--e-out, cubic-bezier(.22,.61,.36,1));
}
@keyframes slideDown { from { opacity: 0; transform: translateY(-8px);} to { opacity: 1; transform: translateY(0);} }

.lobby-title { font-weight: 600; margin-bottom: 6px; }
.lobby-list { display: flex; gap: 8px; flex-wrap: wrap; }
.lobby-item {
  background: #151b28; border: 1px solid rgba(255,255,255,.08);
  padding: 8px 10px; border-radius: 10px; display:flex; align-items:center; gap:8px;
}
.lobby-actions { display:flex; gap:6px; }

/* Waiting overlay for guests */
.waiting {
  position: fixed; inset: 0; z-index: 10;
  display: grid; place-items: center;
  background: rgba(5,8,14,.7);
  animation: fadeIn .2s ease;
}
.waiting-box {
  background: #0b0f17; border:1px solid rgba(255,255,255,.08);
  padding: 22px 20px; border-radius: 14px; text-align: center;
  box-shadow: 0 10px 30px rgba(0,0,0,.45);
}

/* Chat — dock */
.chat-dock {
  position: fixed; right: 12px; bottom: 92px; width: 300px;
  background: #0b0f17; border: 1px solid rgba(255,255,255,.08);
  border-radius: 14px; overflow: hidden;
  box-shadow: 0 18px 40px rgba(0,0,0,.6);
  transform: translateY(8px);
  animation: dockIn .24s var(--e-out, cubic-bezier(.22,.61,.36,1)) .1s forwards;
}
@keyframes dockIn { to { transform: translateY(0); } }

.chat-messages {
  height: 230px; overflow: auto; padding: 12px 10px;
  background: linear-gradient(180deg, rgba(33,41,62,.35), rgba(15,17,21,0));
}
.chat-line {
  font-size: 13.5px; line-height: 1.45;
  margin-bottom: 8px;
  color: #d6e2ff;
}
.chat-line strong {
  color: #93c5fd; margin-right: 4px; font-weight: 700;
  text-shadow: 0 0 12px rgba(59,130,246,.25);
}
.chat-input-row { display: flex; gap: 8px; padding: 10px; border-top: 1px solid rgba(255,255,255,.06); background: #0b0f17; }
.chat-input-row input {
  flex: 1; background: #0f141f; border: 1px solid rgba(255,255,255,.1);
  color: #e5e7eb; border-radius: 10px; padding: 10px 12px; outline: none;
  transition: border-color .18s ease, box-shadow .18s ease;
}
.chat-input-row input:focus {
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59,130,246,.18);
}

/* Host footer toggles */
.host-bar { position: fixed; left: 12px; bottom: 92px; display: flex; gap: 8px; }

/* Utility */
.btn { background: #1b2130; }
.btn:hover { background: #212a3d; }
.btn.danger { background:#b91c1c; }
.btn.danger:hover{ background:#991b1b; }

/* Subtle entry for toasts created in JS (if you use them here) */
.notification { margin-top: 6px; }

/* Reduced motion safety */
@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; }
}
